Given a distribution $P$ over feature-label pairs $(X,Y)$, the goal of calibration is to produce a model $f$ such that $f(x) = \E_{Y\sim P(x)}[y]$, where $P(x)$ is the induced distribution over labels given $x$. 